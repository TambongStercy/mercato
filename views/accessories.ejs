<!DOCTYPE html>
<html lang="fr"> <!-- Modification de "en" √† "fr" pour indiquer le fran√ßais -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="D√©couvrez une s√©lection tendance de chaussures, v√™tements, sacs, accessoires et pochettes pour hommes et femmes chez MercatoCMR. Trouvez les derni√®res tendances de la mode avec une qualit√© exceptionnelle. Livraison rapide et retour gratuit.">
    <meta name="keywords"
        content="MercatoCMR, boutique en ligne, chaussures, v√™tements, sacs, accessoires, pochettes, mode, hommes, femmes, tendances, qualit√©, livraison rapide">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Simbtech">
    <meta name="language" content="Fran√ßais">
    <meta name="distribution" content="global">
    <meta name="revisit-after" content="7 days">
    <meta name="geo.region" content="FR">
    <meta name="geo.placename" content="Cameroun">
    <meta name="geo.position" content="latitude;longitude">
    <meta name="ICBM" content="latitude, longitude">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Mercato | Accessoires</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/shop.css">
    <link rel="stylesheet" href="/card.css">
</head>

<body>
    <!-- Version PC -->
    <div id="pc">
        <img src="/assets/logo-no-background.png" alt="">
        <h1 style="text-align: center;">DISPONIBLE UNIQUEMENT EN VERSION MOBILE</h1>
    </div>
    <!-- Fin de la version PC -->

    <!-- Version mobile -->
    <!-- Barre sup√©rieure mobile -->
    <header>
        <section id="Top-bar">
            <div id="top-bar">
                <div class="menu">
                    <!-- <a href="/notifications.html"><i class="ri-menu-2-line"></i></a> -->
                </div>
                <img src="/assets/logo-no-background.png" alt="Logo de Mercato" class="top-bar-logo">
                <!-- Modification du texte alternatif -->
                <div class="search">
                    <i class="ri-search-2-line"></i>
                </div>
            </div>
        </section>

        <!-- <section id="homme-categories">
            <div id="top-selection">
                <div class="cat-man-one">
                    <h5><a href="#">Hauts</a></h5>
                </div>
                <div class="cat-man-two">
                    <h5><a href="#">Pantalons</a></h5>
                </div>
            </div>
        </section> -->
    </header>
    <!-- Fin de la barre sup√©rieure mobile -->

    <main>
        <section id="Produits">
            <div class="article-heading">
                <h5>Accessoires</h5>
            </div>

            <% if (products.length> 0) { %>
                <% products.forEach((product)=> { %>
                    <% console.log(product) %>
                        <div id="article">
                            <div class="card">
                                <div class="card-header">
                                    <h3>
                                        <%= product.name %>
                                    </h3>
                                    <p>ü•∫</p>
                                    <span>üòÜ</span>
                                </div>

                                <div class="card-img">
                                    <img src="<%= product.imagePath %>" alt="<%= product.name %>">
                                    <i class="bx bx-heart"></i>
                                </div>

                                <div class="card-details">
                                    <div class="price">
                                        <p>Prix</p>
                                        <strong>
                                            <%= product.sellingPrice %> FCFA
                                        </strong>
                                    </div>
                                    <div class="colors">
                                        <div class="selected">
                                            <i class="bx bx-check"></i>
                                        </div>
                                        <div>
                                            <i class="bx bx-check"></i>
                                        </div>
                                        <div>
                                            <i class="bx bx-check"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-sizes">
                                    <% for(const size of product.size.split(',')){ %>
                                         <span>
                                                <%= size %>
                                            </span>
                                        <% }%>
                                </div>

                                <div class="card-footer">
                                    <p>
                                        <a href=<%= product.stock>0?`/single-product?prdtId=${product._id}`:'#' %> >
                                            <button class="cartBtn" <%= product.stock<=0?'onclick=stockLimite()':'' %>>
                                                <svg class="cart" fill="white" viewBox="0 0 576 512" height="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"></path></svg>
                                                Voir l'article
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512" class="product"><path d="M211.8 0c7.8 0 14.3 5.7 16.7 13.2C240.8 51.9 277.1 80 320 80s79.2-28.1 91.5-66.8C413.9 5.7 420.4 0 428.2 0h12.6c22.5 0 44.2 7.9 61.5 22.3L628.5 127.4c6.6 5.5 10.7 13.5 11.4 22.1s-2.1 17.1-7.8 23.6l-56 64c-11.4 13.1-31.2 14.6-44.6 3.5L480 197.7V448c0 35.3-28.7 64-64 64H224c-35.3 0-64-28.7-64-64V197.7l-51.5 42.9c-13.3 11.1-33.1 9.6-44.6-3.5l-56-64c-5.7-6.5-8.5-15-7.8-23.6s4.8-16.6 11.4-22.1L137.7 22.3C155 7.9 176.7 0 199.2 0h12.6z"></path></svg>
                                              </button>
                                        </a>
                                        <label class="contain">
                                            <input type="checkbox" id="likeButton">
                                            <svg id="Layer_1" version="1.0" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.4,4C14.6,4,13,4.9,12,6.3C11,4.9,9.4,4,7.6,4C4.5,4,2,6.5,2,9.6C2,14,12,22,12,22s10-8,10-12.4C22,6.5,19.5,4,16.4,4z"></path></svg>
                                          </label>
                                    </p>
                                </div>
                            </div>
                            <% }); %>
                                <% } else { %>
                                    <h4 style="color: black; padding: auto 0 auto 0;">Aucun produit disponible</h4>
                                    <!-- Modification de "No" √† "Aucun" et traduction du texte -->
                                    <% } %>
        </section>
    </main>

    <footer>
        <%- include ('footer.ejs') %>
    </footer>


    <script src="/main.js"></script>
    <script type="">
        function filterProducts(category) {
            console.log(category + ' was pressed')

            const products = <%- JSON.stringify(products) %>;
            const productsSection = document.getElementById('Produits');
            productsSection.innerHTML = `
            <div class="article-heading">
                <h5>Accessoires</h5>
            </div>`;

            products.forEach((product) => {
                if (product.category.toLowerCase() == category.toLowerCase()) {

                    let sizes = ''
                     for(const size of product.size.split(',')){ 
                        sizes += `<span>
                            ${size}
                        </span>`
                    }

                    productsSection.innerHTML += `
                        <div id="article" class="${product.category}">
                            <div class="card">
                                <div class="card-header">
                                                <h3>${product.name}</h3>
                                                <p>ü•∫</p>
                                                <span>üòÜ</span>
                                            </div>
                                    
                                            <div class="card-img">
                                                <img
                                                    src="${product.imagePath}"
                                                    alt="${ product.name }"
                                                    onerror="this.src='/assets/logo-no-background-white.png';"  
                                                    style="background-color: #020509; border-radius: 10px;"
                                                >
                                                <i class="bx bx-heart"></i>
                                            </div>
                                    
                                            <div class="card-details">
                                                <div class="price">
                                                    <p>Prix</p>
                                                    <strong>${product.sellingPrice} FCFA</strong>
                                                </div>
                                                <div class="colors">
                                                    <div class="selected">
                                                        <i class="bx bx-check"></i>
                                                    </div>
                                                    <div>
                                                        <i class="bx bx-check"></i>
                                                    </div>
                                                    <div>
                                                        <i class="bx bx-check"></i>
                                                    </div>
                                                </div>
                                            </div>
                                    
                                            <div class="card-sizes">
                                                ${sizes}
                                            </div>
                                    
                                            <div class="card-footer">
                                                <p><a href="${ product.stock>0?`/single-product?prdtId=${product._id}`:'#' }"><button ${ product.size<=0?'onclick="stockLimite()"':'' } >Acheterüí∏</button></a></p>
                                            </div>
                            </div>
                        </div>`;
                }
            })
        }

        function stockLimite(){
            console.log('BAB')
            alert('Cet article est en rupture de stock. Revenez plus tard.')
        }
    </script>
    <script>
        document.getElementById("likeButton").addEventListener("click", function() {
            alert("Merci pour l'int√©r√™t que vous portez √† cet article. Gr√¢ce √† vous, il restera encore longtemps sur le site‚ù§Ô∏è.")
        });
    </script>
</body>

</html>